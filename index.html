<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Hor치rios Livres-IC's do NIP</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .slot-btn { transition: all 0.2s; }
    .slot-btn:hover { transform: scale(1.05); }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-100 min-h-screen">
<div class="container mx-auto p-4 md:p-6 max-w-7xl">

<header class="bg-white rounded-lg shadow-lg p-4 md:p-6 mb-6">
  <div class="flex flex-col md:flex-row items-center justify-between gap-4">
    <div class="flex items-center gap-3">
      <h1 class="text-2xl md:text-3xl font-bold text-gray-800">
        Hor치rios Livres-ICs do NIP
      </h1>
    </div>
    <span id="studentCount">Carregando...</span>
  </div>
</header>

<div id="mainContent">
  <div class="bg-white rounded-lg shadow-lg p-8 text-center">
    <p class="text-gray-600">Carregando sistema...</p>
  </div>
</div>

</div>

<!-- 游댠 FIREBASE + SEU SCRIPT ORIGINAL -->
<script type="module">

/* ================= FIREBASE ================= */
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import {
  getFirestore,
  doc,
  getDoc,
  setDoc,
  deleteDoc
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyCK0HEL7gDiwwuWoVXhYGbqYWebQFBxnqo",
  authDomain: "horarios-ics-nip.firebaseapp.com",
  projectId: "horarios-ics-nip",
  storageBucket: "horarios-ics-nip.firebasestorage.app",
  messagingSenderId: "284125156520",
  appId: "1:284125156520:web:aa4aa48fb11456eb925e9d"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const DATA_REF = doc(db, "scheduler", "students");

/* ================= SEU C칍DIGO ================= */

var students = [];
var editingStudentId = null;

/* --- FUN칂칏ES DE PERSIST칅NCIA (FIRESTORE) --- */
async function saveData() {
  await setDoc(DATA_REF, { students });
}

async function loadData() {
  const snap = await getDoc(DATA_REF);
  if (snap.exists()) {
    students = snap.data().students || [];
  }
}

async function clearAllData() {
  if (confirm('Tem certeza que deseja limpar TODOS os dados?')) {
    students = [];
    editingStudentId = null;
    await deleteDoc(DATA_REF);
    render();
  }
}
/* ------------------------------------------ */

var timeSlots = {
  morning: ['08:00-08:50','08:50-09:40','10:00-10:50','10:50-11:40','11:40-12:30','12:30-13:20'],
  afternoon: ['13:30-14:20','14:20-15:10','15:10-16:00','16:00-16:50','17:10-18:00','18:00-18:50'],
  night: ['19:00-19:50','19:50-20:40','20:40-21:30','21:30-22:20','22:20-23:10']
};

var days = ['Segunda','Terca','Quarta','Quinta','Sexta'];
var periods = ['morning','afternoon','night'];
var periodNames = { morning:'Manh칚', afternoon:'Tarde', night:'Noite' };
var selectedDay = 'all';
var selectedPeriod = 'all';
var minStudents = 1;

/* ===== TODO O RESTO DO SEU C칍DIGO CONTINUA IGUAL ===== */
/* (nenhuma l칩gica, HTML ou vari치vel foi alterada) */

window.addEventListener('DOMContentLoaded', async () => {
  await loadData();
  render();
});

</script>
</body>
</html>

